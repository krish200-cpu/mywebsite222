<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>FuneralMatch | Master Arrangement</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bodoni+Moda:ital,wght@0,400;0,600;1,400;1,500&family=Inter:wght@300;400;500;600&family=Cinzel:wght@600&family=Great+Vibes&display=swap" rel="stylesheet">

    <style>
        :root {
            --bg-body: #F7F5F0;
            --gold: #C5A059;
            --gold-light: #F2EBE0;
            --border: #E0E0E0;
            --text-main: #1F1F1F;
            --radius: 20px;
        }

        body {
            background-color: var(--bg-body);
            color: var(--text-main);
            font-family: 'Inter', sans-serif;
            height: 100vh; display: flex; flex-direction: column; overflow: hidden;
        }

        /* --- LAYOUT --- */
        .app-shell {
            display: grid; grid-template-columns: 260px 1fr 380px; /* Nav | Form | Doc */
            flex: 1; overflow: hidden;
        }

        /* --- 1. SIDEBAR --- */
        .sidebar {
            background: white; border-right: 1px solid var(--border);
            overflow-y: auto; padding-bottom: 40px;
        }
        .nav-group { padding: 24px 20px 8px 20px; font-size: 10px; font-weight: 800; color: #999; text-transform: uppercase; letter-spacing: 0.1em; }
        .nav-link {
            padding: 10px 20px; margin: 2px 10px; border-radius: 8px;
            font-size: 13px; color: #555; cursor: pointer; display: flex; align-items: center; gap: 10px;
            transition: 0.2s;
        }
        .nav-link:hover { background: #f5f5f5; color: black; }
        .nav-link.active { background: var(--gold-light); color: black; font-weight: 600; }
        .nav-icon { width: 16px; text-align: center; color: var(--gold); }

        /* --- 2. MAIN FORM --- */
        .main-form {
            overflow-y: auto; scroll-behavior: smooth; padding: 40px 60px 100px 60px;
        }
        
        .section-block { margin-bottom: 60px; scroll-margin-top: 20px; }
        .block-title { font-family: 'Bodoni Moda', serif; font-size: 28px; margin-bottom: 10px; border-bottom: 1px solid var(--border); padding-bottom: 10px; }
        
        .form-row { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 20px; }
        .form-full { grid-column: span 2; }
        
        .lbl { display: block; font-size: 11px; font-weight: 700; text-transform: uppercase; color: #888; margin-bottom: 6px; }
        .inp {
            width: 100%; padding: 12px 16px; border: 1px solid var(--border); border-radius: 12px;
            font-size: 14px; outline: none; transition: 0.2s; background: white;
        }
        .inp:focus { border-color: var(--gold); box-shadow: 0 0 0 3px var(--gold-light); }

        /* Custom Radio Cards */
        .radio-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 12px; }
        .radio-card {
            background: white; border: 1px solid var(--border); border-radius: 12px;
            padding: 16px; cursor: pointer; text-align: center; transition: 0.2s;
        }
        .radio-card:hover { border-color: #999; }
        .radio-card.selected { border-color: var(--gold); background: #FFFCF5; color: var(--gold); font-weight: 700; }

        /* Coffin Grid */
        .coffin-card {
            border: 1px solid var(--border); border-radius: 16px; overflow: hidden; cursor: pointer; background: white;
            transition: 0.2s;
        }
        .coffin-card:hover { transform: translateY(-2px); box-shadow: 0 10px 20px rgba(0,0,0,0.05); }
        .coffin-card.selected { border: 2px solid var(--gold); }
        .coffin-img { width: 100%; height: 120px; object-fit: cover; background: #eee; }

        /* --- 3. LIVE DOCUMENT --- */
        .doc-panel {
            background: #EBEAE8; border-left: 1px solid var(--border);
            display: flex; flex-direction: column; padding: 20px;
        }
        .paper-sheet {
            background: white; flex: 1; width: 100%; box-shadow: 0 5px 20px rgba(0,0,0,0.05);
            padding: 40px; overflow-y: auto; font-family: 'Times New Roman', serif; font-size: 14px; line-height: 1.4;
        }
        .doc-h1 { text-align: center; font-family: 'Cinzel', serif; font-size: 18px; margin-bottom: 20px; border-bottom: 2px solid black; padding-bottom: 10px; }
        .doc-section { margin-bottom: 20px; }
        .doc-label { font-weight: bold; font-size: 12px; text-transform: uppercase; color: #444; }
        .doc-val { color: #000; min-height: 18px; border-bottom: 1px dotted #ccc; margin-bottom: 8px; }
        .doc-val:empty::before { content: '----------------'; color: #ddd; }

        /* Signature Pad */
        .sig-box { font-family: 'Great Vibes', cursive; font-size: 32px; color: #000; border-bottom: 1px solid black; padding: 10px; min-height: 50px; }

        /* Responsive */
        @media (max-width: 1024px) {
            .app-shell { grid-template-columns: 1fr; display: block; overflow-y: auto; }
            .sidebar, .doc-panel { display: none; }
        }
    </style>
</head>
<body>

    <header class="h-16 bg-white border-b border-[#E5E5E5] flex items-center justify-between px-6 sticky top-0 z-50">
        <div class="flex items-center gap-3">
            <div class="w-8 h-8 bg-[#C5A059] rounded-full flex items-center justify-center text-white font-serif italic font-bold">F</div>
            <div>
                <span class="text-[10px] font-bold text-[#C5A059] uppercase tracking-widest block">FuneralMatch</span>
                <span class="text-sm font-bold">Master Arrangement</span>
            </div>
        </div>
        <div class="flex gap-3">
            <span class="text-xs bg-green-50 text-green-700 px-3 py-1.5 rounded-full font-bold border border-green-200"><i class="fas fa-check-circle mr-1"></i> Auto-Saving</span>
            <button onclick="window.print()" class="text-xs bg-black text-white px-4 py-1.5 rounded-full font-bold hover:bg-[#C5A059] transition">Finalize Pack</button>
        </div>
    </header>

    <div class="app-shell">
        
        <nav class="sidebar">
            <div class="nav-group">Phase 1: Intake</div>
            <div class="nav-link active" onclick="scrollToId('sec-1')"><i class="fas fa-user nav-icon"></i> General Details</div>
            <div class="nav-link" onclick="scrollToId('sec-2')"><i class="fas fa-file-contract nav-icon"></i> Documentation</div>
            <div class="nav-link" onclick="scrollToId('sec-3')"><i class="fas fa-church nav-icon"></i> Service Type</div>
            
            <div class="nav-group">Phase 2: Ceremony</div>
            <div class="nav-link" onclick="scrollToId('sec-4')"><i class="fas fa-music nav-icon"></i> Ceremony</div>
            <div class="nav-link" onclick="scrollToId('sec-5')"><i class="fas fa-box nav-icon"></i> Casket & Care</div>
            <div class="nav-link" onclick="scrollToId('sec-6')"><i class="fas fa-fire nav-icon"></i> Cremation / Burial</div>
            
            <div class="nav-group">Phase 3: Logistics</div>
            <div class="nav-link" onclick="scrollToId('sec-9')"><i class="fas fa-car nav-icon"></i> Transportation</div>
            <div class="nav-link" onclick="scrollToId('sec-10')"><i class="fas fa-glass-cheers nav-icon"></i> Reception</div>
            
            <div class="nav-group">Phase 4: Handover</div>
            <div class="nav-link" onclick="scrollToId('sec-13')"><i class="fas fa-credit-card nav-icon"></i> Payments</div>
            <div class="nav-link" onclick="scrollToId('sec-15')"><i class="fas fa-signature nav-icon"></i> Consent</div>
        </nav>

        <main class="main-form">
            
            <div id="sec-1" class="section-block">
                <div class="block-title">1. General Details</div>
                <div class="form-row">
                    <div><label class="lbl">Full Name of Deceased</label><input class="inp" oninput="update('name', this.value)"></div>
                    <div><label class="lbl">Known As / Alias</label><input class="inp" oninput="update('alias', this.value)"></div>
                </div>
                <div class="form-row">
                    <div><label class="lbl">Date of Birth</label><input type="date" class="inp" oninput="update('dob', this.value)"></div>
                    <div><label class="lbl">Date of Death</label><input type="date" class="inp" oninput="update('dod', this.value)"></div>
                </div>
                <div class="form-row">
                    <div><label class="lbl">Place of Death</label><input class="inp" placeholder="Hospital / Home" oninput="update('place', this.value)"></div>
                    <div><label class="lbl">NI / SS Number</label><input class="inp" oninput="update('ni', this.value)"></div>
                </div>
                <div class="form-full mb-4"><label class="lbl">Home Address</label><input class="inp" oninput="update('addr', this.value)"></div>
                
                <div class="p-4 bg-yellow-50 border border-yellow-100 rounded-xl">
                    <div class="form-row mb-0">
                        <div><label class="lbl">Next of Kin Name</label><input class="inp" oninput="update('nok', this.value)"></div>
                        <div><label class="lbl">Relationship</label><input class="inp" oninput="update('rel', this.value)"></div>
                    </div>
                </div>
            </div>

            <div id="sec-2" class="section-block">
                <div class="block-title">2. Documentation</div>
                <div class="form-row">
                    <div>
                        <label class="lbl">Deceased has a Will?</label>
                        <div class="radio-grid">
                            <div class="radio-card" onclick="select(this, 'will', 'Yes')">Yes</div>
                            <div class="radio-card" onclick="select(this, 'will', 'No')">No</div>
                        </div>
                    </div>
                    <div>
                        <label class="lbl">Coroner Involvement?</label>
                        <div class="radio-grid">
                            <div class="radio-card" onclick="select(this, 'coroner', 'Yes')">Yes</div>
                            <div class="radio-card" onclick="select(this, 'coroner', 'No')">No</div>
                        </div>
                    </div>
                </div>
                <div class="form-full">
                    <label class="lbl">Upload Death Certificate</label>
                    <div class="border-2 border-dashed border-gray-300 rounded-xl p-6 text-center cursor-pointer hover:bg-white transition" onclick="alert('Upload Dialog')">
                        <i class="fas fa-cloud-upload-alt text-2xl text-gray-300 mb-2"></i>
                        <div class="text-xs font-bold text-gray-500">Click to upload scanned certificate</div>
                    </div>
                </div>
            </div>

            <div id="sec-3" class="section-block">
                <div class="block-title">3. Service & Venue</div>
                <div class="radio-grid mb-4">
                    <div class="radio-card" onclick="select(this, 'serviceType', 'Burial')">Burial</div>
                    <div class="radio-card" onclick="select(this, 'serviceType', 'Cremation')">Cremation</div>
                    <div class="radio-card" onclick="select(this, 'serviceType', 'Green')">Natural</div>
                    <div class="radio-card" onclick="select(this, 'serviceType', 'Direct')">Direct</div>
                </div>
                <div class="form-row">
                    <div class="form-full"><label class="lbl">Preferred Venue</label><input class="inp" placeholder="Church / Crematorium Name" oninput="update('venue', this.value)"></div>
                </div>
                <div class="form-row">
                    <div><label class="lbl">Service Date</label><input type="date" class="inp" oninput="update('sDate', this.value)"></div>
                    <div><label class="lbl">Time</label><input type="time" class="inp" oninput="update('sTime', this.value)"></div>
                </div>
            </div>

            <div id="sec-4" class="section-block">
                <div class="block-title">4. Ceremony Details</div>
                <div class="form-row">
                    <div><label class="lbl">Officiant Required?</label><div class="radio-grid"><div class="radio-card" onclick="select(this,'officiant','Yes')">Yes</div><div class="radio-card" onclick="select(this,'officiant','No')">No</div></div></div>
                    <div><label class="lbl">Music?</label><div class="radio-grid"><div class="radio-card" onclick="select(this,'music','Yes')">Yes</div><div class="radio-card" onclick="select(this,'music','No')">No</div></div></div>
                </div>
                <div class="form-full mb-4"><label class="lbl">Entry Music</label><input class="inp" oninput="update('mEntry', this.value)"></div>
                <div class="form-full mb-4"><label class="lbl">Exit Music</label><input class="inp" oninput="update('mExit', this.value)"></div>
                <div class="form-full"><label class="lbl">Eulogy Speaker(s)</label><input class="inp" oninput="update('eulogy', this.value)"></div>
            </div>

            <div id="sec-5" class="section-block">
                <div class="block-title">5. Casket & Disposition</div>
                <div class="grid grid-cols-2 md:grid-cols-3 gap-4 mb-6">
                    <div class="coffin-card" onclick="pickCoffin(this, 'The Morpeth (Oak)', 0)">
                        <img src="https://images.unsplash.com/photo-1518640165980-d3e0e2aa6c1e?auto=format&fit=crop&q=80&w=300&h=200" class="coffin-img">
                        <div class="p-3 text-xs font-bold text-center">The Morpeth (Included)</div>
                    </div>
                    <div class="coffin-card" onclick="pickCoffin(this, 'The Willow', 450)">
                        <img src="https://images.unsplash.com/photo-1589182373726-e4f658ab50f0?auto=format&fit=crop&q=80&w=300&h=200" class="coffin-img">
                        <div class="p-3 text-xs font-bold text-center">Natural Willow (+£450)</div>
                    </div>
                    <div class="coffin-card" onclick="pickCoffin(this, 'American Casket', 2200)">
                        <img src="https://images.unsplash.com/photo-1595846519845-68e298c2edd8?auto=format&fit=crop&q=80&w=300&h=200" class="coffin-img">
                        <div class="p-3 text-xs font-bold text-center">Metal Casket (+£2200)</div>
                    </div>
                </div>
                <div class="form-row">
                    <div><label class="lbl">Embalming?</label><div class="radio-grid"><div class="radio-card" onclick="select(this,'embalm','Yes')">Yes</div><div class="radio-card" onclick="select(this,'embalm','No')">No</div></div></div>
                    <div><label class="lbl">Viewing?</label><div class="radio-grid"><div class="radio-card" onclick="select(this,'view','Yes')">Yes</div><div class="radio-card" onclick="select(this,'view','No')">No</div></div></div>
                </div>
            </div>

            <div id="sec-6" class="section-block">
                <div class="block-title">6. Cremation / Burial Details</div>
                <div class="form-full mb-4">
                    <label class="lbl">Ashes Instructions / Plot Reference</label>
                    <textarea class="inp" rows="3" oninput="update('remains', this.value)" placeholder="e.g. Scattered in Garden of Remembrance OR Family Plot Row 4, Grave 20"></textarea>
                </div>
            </div>

            <div id="sec-9" class="section-block">
                <div class="block-title">9. Transportation</div>
                <div class="radio-grid mb-4">
                    <div class="radio-card" onclick="select(this, 'transport', 'Motor Hearse')">Hearse</div>
                    <div class="radio-card" onclick="select(this, 'transport', 'Horse Drawn')">Horse Drawn</div>
                    <div class="radio-card" onclick="select(this, 'transport', 'Motorcycle')">Bike Hearse</div>
                </div>
                <div class="form-row">
                    <div>
                        <label class="lbl">Limousines (7 Seats)</label>
                        <select class="inp" onchange="update('limos', this.value)">
                            <option value="0">None</option>
                            <option value="1">1 Car</option>
                            <option value="2">2 Cars</option>
                            <option value="3">3 Cars</option>
                        </select>
                    </div>
                    <div>
                        <label class="lbl">Collection Address</label>
                        <input class="inp" oninput="update('pickup', this.value)">
                    </div>
                </div>
            </div>

            <div id="sec-10" class="section-block">
                <div class="block-title">10. Reception</div>
                <div class="form-full">
                    <label class="lbl">Venue & Catering</label>
                    <textarea class="inp" rows="2" oninput="update('reception', this.value)" placeholder="Venue name and estimated guests"></textarea>
                </div>
            </div>

            <div id="sec-11" class="section-block">
                <div class="block-title">11. Donations</div>
                <div class="form-full">
                    <label class="lbl">Charity Name(s)</label>
                    <input class="inp" oninput="update('charity', this.value)">
                </div>
            </div>

            <div id="sec-13" class="section-block">
                <div class="block-title">13. Payments</div>
                <div class="form-row">
                    <div><label class="lbl">Billing Contact</label><input class="inp" oninput="update('billing', this.value)"></div>
                    <div>
                        <label class="lbl">Method</label>
                        <select class="inp" onchange="update('payment', this.value)">
                            <option>Credit Card</option>
                            <option>Bank Transfer</option>
                            <option>Insurance Policy</option>
                            <option>DWP Social Fund</option>
                        </select>
                    </div>
                </div>
            </div>

            <div id="sec-15" class="section-block">
                <div class="block-title">15. Consent</div>
                <p class="text-xs text-gray-500 mb-4">By signing, I authorize FuneralMatch to conduct the arrangements as specified.</p>
                <div class="form-full">
                    <label class="lbl">Electronic Signature</label>
                    <input class="inp font-serif italic text-2xl" placeholder="Type Name to Sign" oninput="update('sig', this.value)">
                </div>
            </div>

        </main>

        <aside class="doc-panel">
            <div class="paper-sheet" id="print-area">
                <div class="doc-h1">Arrangement Instructions</div>
                <div style="text-align:center; margin-bottom:20px; font-size:10px; color:#666;">REF: FM-2026-X</div>

                <div class="doc-section">
                    <div class="doc-label">Deceased</div>
                    <div class="doc-val" id="doc-name"></div>
                    <div class="doc-val" style="font-size:12px;">
                        DOB: <span id="doc-dob"></span> | DOD: <span id="doc-dod"></span>
                    </div>
                    <div class="doc-val" id="doc-addr"></div>
                </div>

                <div class="doc-section">
                    <div class="doc-label">Primary Contact</div>
                    <div class="doc-val" id="doc-nok"></div>
                    <div class="doc-val" id="doc-rel"></div>
                </div>

                <div class="doc-section">
                    <div class="doc-label">Service Details</div>
                    <div class="doc-val"><span id="doc-serviceType"></span> @ <span id="doc-venue"></span></div>
                    <div class="doc-val"><span id="doc-sDate"></span> <span id="doc-sTime"></span></div>
                </div>

                <div class="doc-section">
                    <div class="doc-label">Instructions</div>
                    <div class="doc-val">Coffin: <span id="doc-coffin">Standard</span></div>
                    <div class="doc-val">Embalming: <span id="doc-embalm">Pending</span></div>
                    <div class="doc-val">Transport: <span id="doc-transport">Hearse</span> + <span id="doc-limos">0</span> Limos</div>
                </div>

                <div class="doc-section" style="margin-top:40px;">
                    <div class="doc-label">Authorized By</div>
                    <div class="sig-box" id="doc-sig"></div>
                    <div style="font-size:10px; margin-top:4px;">Date: <span id="doc-date"></span></div>
                </div>
            </div>
        </aside>

    </div>

    <script>
        // Init Date
        document.getElementById('doc-date').innerText = new Date().toLocaleDateString();

        // 1. Text Update Logic
        function update(id, val) {
            const el = document.getElementById('doc-' + id);
            if(el) el.innerText = val;
        }

        // 2. Radio Selection Logic
        function select(el, docId, val) {
            // UI
            el.parentElement.querySelectorAll('.radio-card').forEach(c => c.classList.remove('selected'));
            el.classList.add('selected');
            // Doc
            update(docId, val);
        }

        // 3. Coffin Selection Logic
        function pickCoffin(el, name, price) {
            document.querySelectorAll('.coffin-card').forEach(c => c.classList.remove('selected'));
            el.classList.add('selected');
            update('coffin', name);
        }

        // 4. Scroll Logic
        function scrollToId(id) {
            document.getElementById(id).scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

    </script>
</body>
</html>
