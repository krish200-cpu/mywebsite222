<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transparency | Funeral Comparison Marketplace</title>
    <style>
        :root {
            --primary: #1a2a3a;
            --gold: #b8860b;
            --green: #27ae60;
            --bg: #f4f7f6;
            --text: #111;
        }

        * { box-sizing: border-box; font-family: 'Inter', system-ui, -apple-system, sans-serif; }

        body { margin: 0; background: var(--bg); color: var(--text); line-height: 1.6; }

        /* HEADER */
        header { background: white; padding: 1rem 5%; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 10px rgba(0,0,0,0.05); position: sticky; top: 0; z-index: 100; }
        .logo { font-size: 1.5rem; font-weight: 800; color: var(--primary); letter-spacing: -1px; }
        .fd-login { color: var(--gold); text-decoration: none; font-weight: 600; font-size: 0.85rem; border: 1.5px solid var(--gold); padding: 8px 18px; border-radius: 6px; }

        /* MAIN LAYOUT */
        .container { display: flex; max-width: 1200px; margin: 2rem auto; gap: 2rem; padding: 0 20px; }
        
        /* FILTERS SIDEBAR */
        .sidebar { width: 300px; flex-shrink: 0; }
        .filter-card { background: white; padding: 24px; border-radius: 12px; position: sticky; top: 100px; box-shadow: 0 4px 15px rgba(0,0,0,0.03); }
        
        fieldset { border: none; padding: 0; margin: 0 0 20px 0; }
        legend { font-weight: 700; margin-bottom: 15px; font-size: 0.9rem; text-transform: uppercase; color: #666; letter-spacing: 0.5px; }

        .filter-label { display: flex; align-items: center; gap: 10px; margin-bottom: 12px; cursor: pointer; font-size: 0.95rem; }
        .btn-apply { background: var(--primary); color: white; border: none; padding: 12px 16px; border-radius: 6px; cursor: pointer; font-size: 14px; width: 100%; font-weight: 600; }

        /* RESULTS AREA */
        .results-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .results { flex-grow: 1; }
        
        /* SORT DROPDOWN */
        #sortPrice { padding: 8px 12px; border-radius: 6px; border: 1px solid #ddd; background: white; cursor: pointer; font-size: 0.9rem; }

        .card { 
            background: white; border-radius: 12px; padding: 25px; margin-bottom: 1.5rem; 
            display: grid; grid-template-columns: 1fr 220px; gap: 20px;
            border: 1px solid #e0e0e0; transition: all 0.3s ease;
        }
        .card.hidden { display: none; }
        
        .sponsored { border: 2px solid var(--gold); background: #fffdf5; }
        .score-pill { display: inline-block; padding: 4px 12px; border-radius: 20px; font-size: 0.75rem; font-weight: bold; margin-bottom: 12px; background: #e8f5e9; color: #2e7d32; }
        
        .tag { background: #f0f0f0; padding: 4px 10px; border-radius: 5px; font-size: 0.75rem; margin-right: 6px; color: #555; }
        .price-box { text-align: right; border-left: 1px solid #eee; padding-left: 20px; display: flex; flex-direction: column; justify-content: center; }
        .price-tag { font-size: 1.8rem; font-weight: 800; color: var(--primary); margin: 5px 0; }
        
        .btn-book { background: var(--green); color: white; border: none; width: 100%; padding: 12px; border-radius: 6px; font-weight: bold; cursor: pointer; }
    </style>
</head>
<body>

<header>
    <div class="logo">TRANSPARENCY</div>
    <a href="#" class="fd-login">Director Portal</a>
</header>

<div class="container">
    <aside class="sidebar">
        <form id="serviceFilterForm" class="filter-card">
            <fieldset>
                <legend>Service Type</legend>
                <label class="filter-label"><input type="checkbox" name="serviceType" value="direct_cremation"> Direct Cremation</label>
                <label class="filter-label"><input type="checkbox" name="serviceType" value="simple_attended_cremation"> Simple Attended</label>
                <label class="filter-label"><input type="checkbox" name="serviceType" value="traditional_burial"> Traditional Burial</label>
                <label class="filter-label"><input type="checkbox" name="serviceType" value="celebration_of_life"> Celebration of Life</label>
            </fieldset>
            <button type="submit" class="btn-apply">Apply Filters</button>
        </form>
    </aside>

    <main class="results">
        <div class="results-header">
            <h2 id="result-count">2 Directors in Corringham</h2>
            <select id="sortPrice">
                <option value="default">Sort by: Recommended</option>
                <option value="low">Price: Low to High</option>
                <option value="high">Price: High to Low</option>
            </select>
        </div>

        <div id="results-list">
            <div class="card sponsored" data-type="celebration_of_life" data-price="2850">
                <div>
                    <span class="score-pill">98% Transparency Score</span>
                    <h2>Rosewood Memorials</h2>
                    <p>0.8 miles away • Corringham</p>
                    <div style="margin: 15px 0;"><span class="tag">Celebration of Life</span><span class="tag">Family Run</span></div>
                </div>
                <div class="price-box">
                    <div class="price-tag">£2,850</div>
                    <button class="btn-book">Book Now</button>
                </div>
            </div>

            <div class="card" data-type="simple_attended_cremation" data-price="2100">
                <div>
                    <span class="score-pill">91% Transparency Score</span>
                    <h2>South Essex Funerals</h2>
                    <p>1.2 miles away • Stanford-le-Hope</p>
                    <div style="margin: 15px 0;"><span class="tag">Simple Attended</span><span class="tag">Fixed Price</span></div>
                </div>
                <div class="price-box">
                    <div class="price-tag">£2,100</div>
                    <button class="btn-book">Book Now</button>
                </div>
            </div>
        </div>
    </main>
</div>

<script>
    const form = document.getElementById("serviceFilterForm");
    const sortSelect = document.getElementById("sortPrice");
    const resultsList = document.getElementById("results-list");

    // FILTER LOGIC
    form.addEventListener("submit", function (e) {
        e.preventDefault();
        const selectedTypes = Array.from(document.querySelectorAll('input[name="serviceType"]:checked')).map(i => i.value);
        const cards = document.querySelectorAll(".card");
        
        cards.forEach(card => {
            const type = card.getAttribute("data-type");
            card.classList.toggle("hidden", selectedTypes.length > 0 && !selectedTypes.includes(type));
        });
    });

    // SORT LOGIC
    sortSelect.addEventListener("change", function() {
        const cards = Array.from(document.querySelectorAll(".card"));
        const sortVal = this.value;

        if (sortVal === "default") return;

        cards.sort((a, b) => {
            const priceA = parseInt(a.getAttribute("data-price"));
            const priceB = parseInt(b.getAttribute("data-price"));
            return sortVal === "low" ? priceA - priceB : priceB - priceA;
        });

        // Re-append cards in new order
        cards.forEach(card => resultsList.appendChild(card));
    });
</script>

</body>
</html>
