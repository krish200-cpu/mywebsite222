<!DOCTYPE html>
<html lang="en-GB">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Design Studio | FuneralMatch</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Bodoni+Moda:ital,wght@0,400;0,700;1,400;1,700&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@1,400&family=Cinzel:wght@400;700&display=swap" rel="stylesheet">

    <style>
        :root { --gold: #C5A059; --black: #1a1a1a; --soft-bg: #F3F4F6; }
        body { font-family: 'Inter', sans-serif; background: var(--black); color: white; }
        .serif { font-family: 'Bodoni Moda', serif; }
        
        /* SMOOTH TRANSITIONS */
        .preview-element { transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1); }
        
        /* THEME: RED ROSES */
        .theme-red .booklet-bg { background: linear-gradient(to bottom, #2b0a0a, #000); border-color: #8B0000; }
        .theme-red .accent-text { color: #ffcccc; font-family: 'Playfair Display', serif; }
        .theme-red .deco-line { background: #8B0000; }
        .theme-red .overlay-img { background-image: url('https://www.transparenttextures.com/patterns/black-linen.png'); opacity: 0.5; }

        /* THEME: WHITE LILY */
        .theme-white .booklet-bg { background: #fdfbf7; border-color: #e5e5e5; color: #333; }
        .theme-white .accent-text { color: #555; font-family: 'Bodoni Moda', serif; }
        .theme-white .deco-line { background: #d1d5db; }
        .theme-white .main-text { color: #1a1a1a; }

        /* THEME: MODERN MINIMAL */
        .theme-modern .booklet-bg { background: #1a1a1a; border-color: #333; color: white; }
        .theme-modern .accent-text { color: white; font-family: 'Inter', sans-serif; text-transform: uppercase; letter-spacing: 0.2em; font-size: 0.8rem; }
        .theme-modern .deco-line { background: white; height: 1px; width: 50%; }
        
        /* UI ELEMENTS */
        .input-group { background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 1rem; padding: 1.5rem; margin-bottom: 1.5rem; transition: 0.3s; }
        .input-group:focus-within { border-color: var(--gold); background: rgba(255,255,255,0.08); }
        
        .theme-btn { border: 2px solid transparent; transition: 0.3s; }
        .theme-btn.active { border-color: var(--gold); transform: scale(1.05); }

        .range-slider { -webkit-appearance: none; width: 100%; height: 6px; background: #333; border-radius: 99px; outline: none; }
        .range-slider::-webkit-slider-thumb { -webkit-appearance: none; width: 24px; height: 24px; background: var(--gold); border-radius: 50%; cursor: pointer; }
        
        /* Toast Notification */
        #toast { visibility: hidden; min-width: 250px; margin-left: -125px; background-color: #333; color: #fff; text-align: center; border-radius: 50px; padding: 16px; position: fixed; z-index: 100; left: 50%; bottom: 30px; font-size: 14px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); transform: translateY(20px); opacity: 0; transition: 0.5s; }
        #toast.show { visibility: visible; transform: translateY(0); opacity: 1; }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <nav class="border-b border-white/10 bg-black/50 backdrop-blur-md sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
            <div class="flex flex-col items-start">
                <span class="serif text-xs font-bold uppercase tracking-[0.4em] mb-1">Funeral</span>
                <div style="width: 30px; height: 1px; background: var(--gold); margin-bottom: 4px;"></div>
                <span class="serif text-xs font-bold text-[#C5A059] uppercase tracking-[0.7em]">Match</span>
            </div>
            <div class="flex gap-4">
                <button onclick="showToast('Draft Saved to Cloud')" class="text-[10px] font-bold uppercase tracking-widest text-stone-400 hover:text-white transition-colors"><i class="fas fa-save mr-2"></i> Save Draft</button>
                <button onclick="showToast('Collaboration Link Copied')" class="text-[10px] font-bold uppercase tracking-widest text-[#C5A059] hover:text-white transition-colors"><i class="fas fa-user-plus mr-2"></i> Invite Family</button>
            </div>
        </div>
    </nav>

    <div class="flex-1 max-w-7xl mx-auto w-full grid grid-cols-1 lg:grid-cols-12 gap-12 p-6 lg:p-12">
        
        <div class="lg:col-span-5 space-y-8 h-fit overflow-y-auto pb-20">
            
            <div class="mb-8">
                <h1 class="serif italic text-4xl mb-2">Design Studio.</h1>
                <p class="text-stone-400 text-sm">Customize every detail. Real-time preview.</p>
            </div>

            <div class="input-group">
                <label class="text-[10px] uppercase font-bold tracking-widest text-stone-500 mb-4 block">1. Select Aesthetic</label>
                <div class="grid grid-cols-3 gap-4">
                    <div class="cursor-pointer group" onclick="setTheme('red')">
                        <div class="theme-btn h-20 rounded-xl bg-gradient-to-br from-red-900 to-black mb-2 relative overflow-hidden" id="btn-red">
                            <img src="https://images.unsplash.com/photo-1559563362-c667ba5f5480?auto=format&fit=crop&w=300&q=80" class="absolute inset-0 w-full h-full object-cover opacity-50 mix-blend-overlay">
                        </div>
                        <p class="text-center text-[10px] font-bold text-stone-400 group-hover:text-white">Red Roses</p>
                    </div>
                    <div class="cursor-pointer group" onclick="setTheme('white')">
                        <div class="theme-btn h-20 rounded-xl bg-white mb-2" id="btn-white"></div>
                        <p class="text-center text-[10px] font-bold text-stone-400 group-hover:text-white">Pure White</p>
                    </div>
                    <div class="cursor-pointer group" onclick="setTheme('modern')">
                        <div class="theme-btn h-20 rounded-xl bg-stone-800 mb-2 active" id="btn-modern"></div>
                        <p class="text-center text-[10px] font-bold text-stone-400 group-hover:text-white">Modern</p>
                    </div>
                </div>
            </div>

            <div class="input-group">
                <label class="text-[10px] uppercase font-bold tracking-widest text-stone-500 mb-4 block">2. Essential Details</label>
                <div class="space-y-4">
                    <div>
                        <input type="text" id="inputName" placeholder="Full Name of Deceased" oninput="updatePreview()" class="w-full bg-white/5 border border-white/10 rounded-lg p-3 text-sm text-white focus:border-[#C5A059] focus:outline-none transition-colors">
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <input type="text" id="inputDob" placeholder="Year Born (e.g. 1945)" oninput="updatePreview()" class="w-full bg-white/5 border border-white/10 rounded-lg p-3 text-sm text-white focus:border-[#C5A059] focus:outline-none">
                        <input type="text" id="inputDod" placeholder="Year Passed (e.g. 2026)" oninput="updatePreview()" class="w-full bg-white/5 border border-white/10 rounded-lg p-3 text-sm text-white focus:border-[#C5A059] focus:outline-none">
                    </div>
                    <div>
                        <input type="text" id="inputVenue" placeholder="Service Location (e.g. St Mary's)" oninput="updatePreview()" class="w-full bg-white/5 border border-white/10 rounded-lg p-3 text-sm text-white focus:border-[#C5A059] focus:outline-none">
                    </div>
                    <div>
                        <input type="text" id="inputQuote" placeholder="Short Quote or 'In Loving Memory'" oninput="updatePreview()" class="w-full bg-white/5 border border-white/10 rounded-lg p-3 text-sm text-white focus:border-[#C5A059] focus:outline-none">
                    </div>
                </div>
            </div>

            <div class="input-group">
                <label class="text-[10px] uppercase font-bold tracking-widest text-stone-500 mb-4 block">3. Cover Photo</label>
                <div class="relative border-2 border-dashed border-white/20 rounded-xl p-6 text-center hover:border-[#C5A059] transition-colors cursor-pointer group">
                    <input type="file" id="photoUpload" class="absolute inset-0 w-full h-full opacity-0 cursor-pointer" onchange="handleImageUpload(this)">
                    <i class="fas fa-cloud-upload-alt text-2xl mb-2 text-stone-500 group-hover:text-[#C5A059]"></i>
                    <p class="text-xs text-stone-400">Click to upload photo</p>
                </div>
            </div>

            <div class="input-group border-[#C5A059]">
                <div class="flex justify-between items-end mb-4">
                    <label class="text-[10px] uppercase font-bold tracking-widest text-[#C5A059]">4. Print Quantity</label>
                    <span class="text-2xl font-bold" id="displayQty">20</span>
                </div>
                
                <input type="range" min="20" max="200" step="10" value="20" class="range-slider mb-6" id="qtySlider" oninput="updatePrice()">
                
                <div class="bg-black/40 rounded-lg p-4 flex justify-between items-center">
                    <div class="text-xs text-stone-400">
                        <p>Base cost (20 copies): £80</p>
                        <p>+£15 per extra 10</p>
                    </div>
                    <div class="text-right">
                        <p class="text-[10px] uppercase font-bold text-stone-500">Total Price</p>
                        <p class="text-2xl font-bold text-white" id="totalPrice">£80.00</p>
                    </div>
                </div>
            </div>

            <button class="w-full bg-[#C5A059] text-black py-5 rounded-full text-xs font-bold uppercase tracking-widest hover:bg-white transition-all transform hover:scale-[1.02] shadow-xl shadow-[#C5A059]/20">
                Add to Arrangement <i class="fas fa-arrow-right ml-2"></i>
            </button>
            <p class="text-center text-[10px] text-stone-500 mt-2">Next day delivery available if ordered by 2pm.</p>

        </div>


        <div class="lg:col-span-7 relative">
            <div class="sticky top-32">
                <div class="flex justify-between items-end mb-4 px-4">
                    <p class="text-[10px] uppercase font-bold tracking-widest text-stone-500">Live Preview</p>
                    <div class="flex gap-2">
                        <div class="w-3 h-3 rounded-full bg-red-500"></div>
                        <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
                        <div class="w-3 h-3 rounded-full bg-green-500"></div>
                    </div>
                </div>

                <div id="bookletContainer" class="theme-modern relative aspect-[1/1.414] w-full max-w-md mx-auto shadow-2xl rounded-r-2xl rounded-l-sm transition-all duration-500 transform hover:scale-[1.01]">
                    
                    <div class="booklet-bg absolute inset-0 rounded-r-2xl rounded-l-sm border-r-4 border-b-4 flex flex-col items-center justify-between p-12 overflow-hidden preview-element">
                        
                        <div class="overlay-img absolute inset-0 z-0 bg-cover bg-center transition-opacity duration-500"></div>

                        <div class="relative z-10 text-center w-full">
                            <p id="previewQuote" class="accent-text text-xs tracking-[0.2em] mb-8 opacity-80 preview-element">IN LOVING MEMORY</p>
                            
                            <div class="w-48 h-48 mx-auto mb-8 relative group">
                                <div id="previewPhoto" class="w-full h-full rounded-full bg-stone-800 object-cover shadow-2xl border-4 border-opacity-20 border-white overflow-hidden preview-element flex items-center justify-center">
                                    <i class="fas fa-user text-4xl opacity-20 text-white"></i>
                                </div>
                                <div class="absolute inset-0 rounded-full bg-gradient-to-tr from-transparent via-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"></div>
                            </div>
                        </div>

                        <div class="relative z-10 text-center w-full">
                            <h1 id="previewName" class="main-text serif italic text-4xl md:text-5xl mb-4 leading-tight preview-element">Name of<br>Deceased</h1>
                            
                            <div class="deco-line h-px w-24 mx-auto my-6 opacity-50 preview-element"></div>
                            
                            <p class="accent-text text-sm mb-2 opacity-80 preview-element"><span id="previewDob">1900</span> — <span id="previewDod">2026</span></p>
                            
                            <div class="mt-12 opacity-60">
                                <p id="previewVenue" class="text-[10px] uppercase tracking-widest font-bold preview-element">Funeral Location</p>
                                <p class="text-[10px] mt-1 accent-text preview-element">Order of Service</p>
                            </div>
                        </div>

                    </div>
                    
                    <div class="absolute left-0 top-0 bottom-0 w-8 bg-gradient-to-r from-black/50 to-transparent pointer-events-none z-20 rounded-l-sm"></div>
                </div>

                <div class="max-w-md mx-auto h-8 bg-black/20 blur-xl rounded-[100%] mt-4 transform scale-x-90"></div>

            </div>
        </div>

    </div>

    <div id="toast">Notification</div>

    <script>
        // INIT
        window.onload = function() {
            updatePrice();
        }

        // PRICING LOGIC
        function updatePrice() {
            const qty = parseInt(document.getElementById('qtySlider').value);
            document.getElementById('displayQty').innerText = qty;
            
            let price = 80; // Base for 20
            if (qty > 20) {
                const extraSets = Math.ceil((qty - 20) / 10);
                price += (extraSets * 15);
            }
            
            document.getElementById('totalPrice').innerText = '£' + price + '.00';
        }

        // PREVIEW UPDATE LOGIC
        function updatePreview() {
            const name = document.getElementById('inputName').value;
            const dob = document.getElementById('inputDob').value;
            const dod = document.getElementById('inputDod').value;
            const venue = document.getElementById('inputVenue').value;
            const quote = document.getElementById('inputQuote').value;

            if(name) document.getElementById('previewName').innerHTML = name.replace(/\s/g, '<br>');
            if(dob) document.getElementById('previewDob').innerText = dob;
            if(dod) document.getElementById('previewDod').innerText = dod;
            if(venue) document.getElementById('previewVenue').innerText = venue;
            if(quote) document.getElementById('previewQuote').innerText = quote.toUpperCase();
        }

        // THEME SWITCHER
        function setTheme(theme) {
            const container = document.getElementById('bookletContainer');
            const btns = document.querySelectorAll('.theme-btn');
            
            // Remove active state from buttons
            btns.forEach(b => b.classList.remove('active'));
            document.getElementById('btn-' + theme).classList.add('active');

            // Reset Classes
            container.className = "relative aspect-[1/1.414] w-full max-w-md mx-auto shadow-2xl rounded-r-2xl rounded-l-sm transition-all duration-500 transform hover:scale-[1.01]";
            
            // Add new Theme Class
            container.classList.add('theme-' + theme);

            // Handle Specific Image Assets for Red Theme
            const overlay = container.querySelector('.overlay-img');
            if (theme === 'red') {
                overlay.style.backgroundImage = "url('https://images.unsplash.com/photo-1596068586938-1b6e1590209f?auto=format&fit=crop&w=600&q=80')";
                overlay.style.opacity = "0.2";
                overlay.style.mixBlendMode = "overlay";
            } else if (theme === 'white') {
                overlay.style.backgroundImage = "url('https://www.transparenttextures.com/patterns/cream-paper.png')";
                overlay.style.opacity = "0.5";
                overlay.style.mixBlendMode = "normal";
            } else {
                overlay.style.backgroundImage = "none";
            }
        }

        // IMAGE UPLOAD HANDLER
        function handleImageUpload(input) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();
                reader.onload = function (e) {
                    const preview = document.getElementById('previewPhoto');
                    preview.innerHTML = `<img src="${e.target.result}" class="w-full h-full object-cover">`;
                }
                reader.readAsDataURL(input.files[0]);
                showToast("Photo Uploaded Successfully");
            }
        }

        // TOAST NOTIFICATION
        function showToast(message) {
            var x = document.getElementById("toast");
            x.innerText = message;
            x.className = "show";
            setTimeout(function(){ x.className = x.className.replace("show", ""); }, 3000);
        }
    </script>
</body>
</html>
